---
description: "Implement solution using comprehensive TDD"
arguments:
  - name: "task"
    description: "Task to solve using Test-Driven Development"
    required: true
---

**RESPOND IN RUSSIAN** - Implement solution using comprehensive TDD: {{task}}

### PRE-IMPLEMENTATION SETUP
1. **Environment preparation:**
   - Verify current git status: `git status`
   - Ensure clean working directory
   - Create feature branch: `git checkout -b [task-type]/[descriptive-name]`
   - Verify development environment is ready

2. **Requirements confirmation:**
   - Confirm understanding of the task
   - Clarify any remaining ambiguities
   - Set clear success criteria
   - Identify potential edge cases

### COMPREHENSIVE TDD CYCLE

#### üî¥ **RED PHASE - Write Comprehensive Tests**
**Goal: Create failing tests that define exact behavior**

1. **Unit tests:**
   - Test core functionality with various inputs
   - Test edge cases and boundary conditions
   - Test error handling and exceptions
   - Test integration points and dependencies
   
2. **Integration tests:**
   - Test component interactions
   - Test data flow between modules
   - Test external service integrations
   - Test configuration and environment dependencies

3. **Test quality assurance:**
   - Ensure tests are readable and maintainable
   - Verify tests fail for the right reasons
   - Check test coverage of requirements
   - Run tests: `sh full_test_fixed.sh` (should fail)

4. **Commit tests:**
   ```bash
   git add .
   git commit -m "test: –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è [—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å]
   
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
   - Integration —Ç–µ—Å—Ç—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
   - Edge cases –∏ error handling
   - –ü–æ–∫—Ä—ã—Ç–∏–µ: [X]% —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π"
   ```

**Explain in Russian:** What exactly you're testing and why

#### üü¢ **GREEN PHASE - Minimal Working Implementation**
**Goal: Make all tests pass with simplest possible code**

1. **Core implementation:**
   - Write minimal code to pass tests
   - Focus on functionality, not optimization
   - Ensure all tests pass
   - Don't over-engineer at this stage

2. **Integration:**
   - Connect components as needed
   - Handle external dependencies
   - Ensure proper error propagation
   - Maintain existing functionality

3. **Verification:**
   - Run full test suite: `sh full_test_fixed.sh`
   - Verify no regressions introduced
   - Check compilation warnings
   - Test manually if needed

4. **Commit implementation:**
   ```bash
   git add .
   git commit -m "feat: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω [—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª]
   
   - –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
   - TODO: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥"
   ```

**Explain in Russian:** What you implemented and how it works

#### üîµ **REFACTOR PHASE - Optimize and Clean**
**Goal: Improve code quality without changing behavior**

1. **Code quality improvements:**
   - Extract reusable functions/classes
   - Improve naming and readability
   - Remove duplication
   - Optimize performance if needed

2. **Architecture refinements:**
   - Improve separation of concerns
   - Enhance error handling
   - Add logging/monitoring
   - Update documentation

3. **Test enhancements:**
   - Improve test readability
   - Add additional edge case tests
   - Optimize test performance
   - Update test documentation

4. **Final verification:**
   - Run complete test suite again
   - Performance benchmarks if applicable
   - Code review checklist
   - Security review if needed

5. **Commit improvements:**
   ```bash
   git add .
   git commit -m "refactor: —É–ª—É—á—à–µ–Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ [—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª]
   
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"
   ```

**Explain in Russian:** What improvements you made and why

### POST-IMPLEMENTATION VALIDATION

1. **Comprehensive testing:**
   - Full test suite: `sh full_test_fixed.sh`
   - Performance testing if applicable
   - Manual testing of critical paths
   - Verify no regressions

2. **Code quality checks:**
   - Linting and formatting
   - Security scan if available
   - Dependency checks
   - Documentation updates

3. **Integration verification:**
   - Test with real data if possible
   - Verify external integrations
   - Check logging and monitoring
   - Validate error handling

### COMPLETION REPORT (in Russian)
Provide comprehensive summary:

üìä **–û–¢–ß–ï–¢ –û –†–ï–ê–õ–ò–ó–ê–¶–ò–ò:**
- ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** [–æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ]
- üß™ **–¢–µ—Å—Ç—ã:** [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ] unit + [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ] integration
- üìà **–ü–æ–∫—Ä—ã—Ç–∏–µ:** [X]% –∫–æ–¥–∞, [Y]% —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- ‚ö° **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** [–¥–æ] ‚Üí [–ø–æ—Å–ª–µ]
- üîß **–ò–∑–º–µ–Ω–µ–Ω–∏—è:** [—Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤]
- ‚ö†Ô∏è **–†–∏—Å–∫–∏:** [–µ—Å–ª–∏ –µ—Å—Ç—å]
- üìã **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:** [—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏]

### UPDATE DOCUMENTATION
- Update critical_bugs_and_performance_analysis.md if issue was fixed
- Mark task complete in prompt_plan.md
- Update CLAUDE.md if new patterns introduced
- Add technical documentation if needed

**Implementation metrics:**
- Total development time: ___
- TDD cycles completed: ___
- Test coverage achieved: ___%
- Performance improvement: ___%
- Code quality score: ___/10