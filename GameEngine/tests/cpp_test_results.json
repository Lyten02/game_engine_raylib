{
  "summary": {
    "total": 27,
    "passed": 26,
    "failed": 1,
    "success_rate": 96.3,
    "total_time": 93.157,
    "parallel": false
  },
  "results": [
    {
      "test_name": "test_resource_manager_safety",
      "test_file": "test_resource_manager_safety.cpp",
      "category": "Resource",
      "status": "PASSED",
      "elapsed_seconds": 3.079,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Safety Tests ===\nTesting default texture validity...\nPASS: Default texture is always valid\nTesting no nullptr returns...\nPASS: No nullptr returns\nTesting missing textures return default...\nPASS: Missing textures return default\nTesting unload doesn't break defaults...\nPASS: Unload doesn't break defaults\nTesting pointer validity across lifetime...\nPASS: Pointer validity maintained across lifetime\n\nAll safety tests passed!\n"
    },
    {
      "test_name": "test_resource_manager_threading",
      "test_file": "test_resource_manager_threading.cpp",
      "category": "Threading",
      "status": "PASSED",
      "elapsed_seconds": 4.058,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Threading Tests ===\nTesting concurrent access to getDefaultTexture()...\nCompleted 100000 texture accesses in 6ms\nPASS: No race conditions detected\n\nTesting concurrent texture loading...\nLoaded 1000 textures\nUnique textures in manager: 0\nPASS: Concurrent texture loading successful\n\nStress testing default texture initialization...\nPASS: Stress test completed successfully\n\n=== All threading tests passed! ===\n"
    },
    {
      "test_name": "test_resource_manager_headless",
      "test_file": "test_resource_manager_headless.cpp",
      "category": "Resource",
      "status": "PASSED",
      "elapsed_seconds": 3.641,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Headless Mode Tests ===\nTesting headless mode functionality...\nPASS: Headless mode default texture created correctly\nPASS: Headless mode texture loading works correctly\n\nTesting headless to graphics mode transition...\nPASS: Mode transition maintains texture consistency\n\nTesting concurrent access in headless mode...\nPASS: Concurrent headless access works correctly\n\nTesting headless mode performance...\nLoaded 10000 textures in headless mode in 0ms\nPASS: Headless mode performance is optimal\n\nTesting silent mode...\nTesting with silent mode OFF (you should see log messages):\n[2025-06-17 00:06:43.190] [info] [ResourceManager] Created dummy texture for headless mode\n[2025-06-17 00:06:43.191] [info] [ResourceManager] Headless mode: using dummy texture for 'test1'\n[2025-06-17 00:06:43.191] [warning] [ResourceManager] Texture 'nonexistent' not found - using default texture\n[2025-06-17 00:06:43.191] [info] [ResourceManager] Unloading all resources...\n\nTesting with silent mode ON (you should NOT see log messages):\nPASS: Silent mode works correctly\n\n=== All headless mode tests passed! ===\n"
    },
    {
      "test_name": "test_resource_manager_memory",
      "test_file": "test_resource_manager_memory.cpp",
      "category": "Memory",
      "status": "PASSED",
      "elapsed_seconds": 3.709,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Memory Safety Tests ===\nTesting default texture memory safety...\nPASS: Default texture singleton works correctly\nPASS: Multiple ResourceManager instances work correctly\nPASS: Proper cleanup on destruction\n\nTesting exception safety...\nPASS: Emergency fallback works correctly\n\nTesting for memory leaks...\nPASS: No apparent memory leaks (run with valgrind for confirmation)\n\nTesting null pointer safety...\nPASS: Null pointer safety checks passed\n\nTesting thread-safe destruction...\nPASS: Thread-safe destruction completed\n\n=== All memory safety tests passed! ===\n"
    },
    {
      "test_name": "test_resource_manager_exception_safety",
      "test_file": "test_resource_manager_exception_safety.cpp",
      "category": "Resource",
      "status": "PASSED",
      "elapsed_seconds": 2.629,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Exception Safety Test (Minimal) ===\n\nTest 1: Basic exception safety...\n✓ Fallback texture created successfully\n\nTest 2: Concurrent exception safety...\n✓ All threads handled exceptions safely\n\nTest 3: Mode switching exception safety...\n✓ Texture remains consistent across mode switches\n\nTest 4: Non-existent resource handling...\n✓ Non-existent texture returns default\n\n✅ All exception safety tests passed!\n"
    },
    {
      "test_name": "test_resource_manager_simple",
      "test_file": "test_resource_manager_simple.cpp",
      "category": "Unit",
      "status": "PASSED",
      "elapsed_seconds": 2.979,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "Running ResourceManager memory test...\nInitial texture count: 0\nAfter 100 missing texture requests: 0 textures in map\nPASS: Map did not grow with missing texture requests\nAfter loading missing file: 0 textures in map\nPASS: Map did not grow when loading missing file\nPASS: Same default texture pointer returned for all missing textures\n\nAll tests passed! ResourceManager memory efficiency is working correctly.\n"
    },
    {
      "test_name": "test_async_build_threading",
      "test_file": "test_async_build_threading_stub.cpp",
      "category": "Threading",
      "status": "PASSED",
      "elapsed_seconds": 0.979,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "Running AsyncBuildSystem threading tests (stub version)...\n\nNote: This is a simplified version that tests threading primitives\nwithout requiring the full build system infrastructure.\n\nTesting thread-safe operations...\n✓ Thread-safe operations test passed\n\nTesting atomic status access...\n✓ Atomic status test passed\n\nTesting concurrent access patterns...\n✓ Concurrent access test passed\n  Read count: 34008\n  Write count: 100\n\n✅ All threading tests passed!\n"
    },
    {
      "test_name": "test_default_texture_manager",
      "test_file": "test_default_texture_manager.cpp",
      "category": "Threading",
      "status": "PASSED",
      "elapsed_seconds": 2.730,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== Default Texture Manager Unit Tests ===\n\n=== Testing Headless Mode ===\n✓ Headless texture is not null\n✓ Headless texture has id=0\n✓ Headless texture has correct width\n✓ Headless texture has correct height\n✓ Headless texture has correct format\n\n=== Testing Graphics Mode ===\n✓ Graphics mode without RayLib returns valid texture\n✓ Graphics mode without RayLib uses dummy texture\n✓ Graphics texture has correct width\n✓ Graphics texture has correct height\n\n=== Testing Multi-threaded Access ===\n✓ All threads accessed texture successfully\n✓ All threads got the same default texture pointer\n✓ Multi-threaded access completed quickly\n\n=== Testing Memory Management ===\n✓ No crashes after multiple create/destroy cycles\n✓ Missing textures don't grow the map\n\n=== Testing Default Texture Consistency ===\n✓ All missing textures return same pointer\n✓ Default texture is consistent\n\n=== Test Summary ===\nPassed: 16\nFailed: 0\n"
    },
    {
      "test_name": "test_engine_init",
      "test_file": "test_engine_init.cpp",
      "category": "Integration",
      "status": "COMPILATION_FAILED",
      "elapsed_seconds": 0.049,
      "return_code": 1,
      "worker_id": 0,
      "timestamp": 0,
      "success": false,
      "error": "clang++: error: no such file or directory: '../src/scripting/example_game_logic.cpp'\n"
    },
    {
      "test_name": "test_build_system_basic",
      "test_file": "test_build_system_basic.cpp",
      "category": "Build",
      "status": "PASSED",
      "elapsed_seconds": 14.482,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== Build System Basic Tests ===\nTesting BuildSystem creation...\n✓ BuildSystem created successfully\nTesting AsyncBuildSystem creation...\n✓ AsyncBuildSystem created successfully\n✓ Initial status is Idle\n✓ Initial progress is 0%\nTesting BuildConfig creation...\n✓ Default BuildConfig created (Release)\n✓ Debug BuildConfig created\n✓ Default debug config created via factory\n✓ Default release config created via factory\nTesting build directory creation...\n[2025-06-17 00:07:10.762] [info] EnginePaths initialized with root: /Users/konstantin/Desktop/Code/GameEngineRayLib/GameEngine/tests\n[2025-06-17 00:07:10.763] [info] Created build directory: /Users/konstantin/Desktop/Code/GameEngineRayLib/GameEngine/tests/output/TestBuildSystemProject_1750108030\n✓ Build directory created successfully\nTesting BuildConfig JSON serialization...\n✓ BuildConfig JSON serialization works\n\nAll tests passed! ✓\n"
    },
    {
      "test_name": "test_config_depth",
      "test_file": "test_config_depth.cpp",
      "category": "Unit",
      "status": "PASSED",
      "elapsed_seconds": 3.449,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== Config Depth Validation Tests ===\n[2025-06-17 00:07:14.214] [info] Config::load - Configuration loaded from: test_config_depth.json\nRunning NormalDepthAllowed... PASSED\nRunning ExcessiveDepthRejected... [2025-06-17 00:07:14.215] [warning] Config::set - Invalid key format: l1.l2.l3.l4.l5.l6.l7.l8.l9.l10.l11.value\n[2025-06-17 00:07:14.215] [warning] Config::get - Invalid key format: l1.l2.l3.l4.l5.l6.l7.l8.l9.l10.l11.value\nPASSED\nRunning KeyValidationWorks... PASSED\nRunning BoundaryConditions... [2025-06-17 00:07:14.215] [warning] Config::set - Invalid key format: a.b.c.d.e.f.g.h.i.j.k\n[2025-06-17 00:07:14.215] [warning] Config::get - Invalid key format: a.b.c.d.e.f.g.h.i.j.k\n[2025-06-17 00:07:14.215] [warning] Config::set - Invalid key format: has..empty...parts\n[2025-06-17 00:07:14.215] [warning] Config::get - Invalid key format: has..empty...parts\nPASSED\nRunning TypesAtDepth... PASSED\nRunning CircularReferenceProtection... [2025-06-17 00:07:14.215] [warning] Config::get - Invalid key format: circular.test.next.next.next.next.next.next.next.next.next.next.next\nPASSED\nRunning PathCreationRespectsDepth... [2025-06-17 00:07:14.215] [warning] Config::set - Invalid key format: create.path.that.is.way.too.deep.to.be.allowed.beyond.limit\n[2025-06-17 00:07:14.215] [warning] Config::get - Invalid key format: create.path.that.is.way.too.deep.to.be.allowed.beyond.limit\nPASSED\nRunning CustomDepthLimits... [2025-06-17 00:07:14.215] [warning] Config::set - Invalid key format: z1.z2.z3.z4.z5.z6.z7.z8.z9.z10.z11\n[2025-06-17 00:07:14.215] [warning] Config::get - Invalid key format: z1.z2.z3.z4.z5.z6.z7.z8.z9.z10.z11\nPASSED\n\nAll tests passed!\n"
    },
    {
      "test_name": "test_log_limiter_generic_keys",
      "test_file": "test_log_limiter_generic_keys.cpp",
      "category": "Unit",
      "status": "PASSED",
      "elapsed_seconds": 1.948,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "Testing LogLimiter with generic keys functionality\n\n\n--- Testing rate limiting with generic keys ---\n\nTest 1: Same message repeated (should see 3 then suppression)\n[2025-06-17 00:07:16.164] [console] [info] Test message 0\n[2025-06-17 00:07:16.164] [console] [info] Test message 1\n[2025-06-17 00:07:16.164] [console] [info] Test message 2\n\nTest 2: Different keys (each should get 3 messages)\n[2025-06-17 00:07:16.164] [console] [warning] Message for key_0 - iteration 0\n[2025-06-17 00:07:16.164] [console] [warning] Message for key_1 - iteration 1\n[2025-06-17 00:07:16.164] [console] [warning] Message for key_0 - iteration 2\n[2025-06-17 00:07:16.164] [console] [warning] Message for key_1 - iteration 3\n[2025-06-17 00:07:16.164] [console] [warning] Message for key_0 - iteration 4\n[2025-06-17 00:07:16.164] [console] [warning] Message for key_1 - iteration 5\n\nTest 3: Thread safety (concurrent logging)\n[2025-06-17 00:07:16.164] [console] [error] Thread 1 - iteration 0\n[2025-06-17 00:07:16.164] [console] [error] Thread 1 - iteration 1\n[2025-06-17 00:07:16.164] [console] [error] Thread 1 - iteration 2\n\nTest 4: Generic key usage (like ResourceManager)\n[2025-06-17 00:07:16.164] [console] [warning] Texture not found: texture_0\n[2025-06-17 00:07:16.164] [console] [warning] Texture not found: texture_1\n[2025-06-17 00:07:16.164] [console] [warning] Texture not found: texture_2\n\n--- LogLimiter Statistics ---\nKey: 'test_key' - Count: 4\nKey: 'key_1' - Count: 4\nKey: 'key_0' - Count: 4\nKey: 'thread_key' - Count: 4\nKey: 'texture_not_found' - Count: 4\n\nTest completed. Check the output above to verify that:\n1. Generic keys are being used (no texture names in keys)\n2. Messages are limited to 3 occurrences per key type\n3. A debug message appears when limit is reached\n"
    },
    {
      "test_name": "test_resource_manager_threading_fix",
      "test_file": "test_resource_manager_threading_fix.cpp",
      "category": "Threading",
      "status": "PASSED",
      "elapsed_seconds": 3.613,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "[2025-06-17 00:07:19.751] [info] Starting ResourceManager thread safety test (fixed version)\n[2025-06-17 00:07:19.752] [info] [ResourceManager] Created dummy texture for headless mode\n[2025-06-17 00:07:19.752] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_2_0'\n[2025-06-17 00:07:19.752] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_1_0'\n[2025-06-17 00:07:19.752] [warning] [ResourceManager] Texture 'texture_1_0' not found - using default texture\n[2025-06-17 00:07:19.752] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_3_0'\n[2025-06-17 00:07:19.752] [warning] [ResourceManager] Texture 'texture_4_0' not found - using default texture\n[2025-06-17 00:07:19.752] [warning] [ResourceManager] Texture 'texture_3_0' not found - using default texture\n[2025-06-17 00:07:19.752] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_7_0'\n[2025-06-17 00:07:19.752] [warning] [ResourceManager] Texture 'texture_1_0' not found - using default texture\n[2025-06-17 00:07:19.752] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_6_1'\n[2025-06-17 00:07:19.752] [warning] [ResourceManager] Texture 'texture_1_0' not found - using default texture\n[2025-06-17 00:07:19.752] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_2_1'\n[2025-06-17 00:07:19.752] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_2_2'\n[2025-06-17 00:07:19.752] [warning] [ResourceManager] Cannot unload texture 'texture_1_4' - not found.\n[2025-06-17 00:07:19.753] [warning] [ResourceManager] Cannot unload texture 'texture_9_1' - not found.\n[2025-06-17 00:07:19.753] [warning] [ResourceManager] Cannot unload texture 'texture_9_2' - not found.\n[2025-06-17 00:07:19.753] [warning] [ResourceManager] Cannot unload texture 'texture_6_2' - not found.\n[2025-06-17 00:07:19.753] [warning] [ResourceManager] Cannot unload texture 'texture_0_2' - not found.\n[2025-06-17 00:07:19.778] [info] Thread safety test completed in 26 ms\n[2025-06-17 00:07:19.778] [info] Total operations: 1000\n[2025-06-17 00:07:19.778] [info] Successful operations: 1000\n[2025-06-17 00:07:19.778] [info] Failed operations: 0\n[2025-06-17 00:07:19.778] [info] Final texture count: 0\n[2025-06-17 00:07:19.778] [info] \nTesting multiple ResourceManager instances...\n[2025-06-17 00:07:19.778] [info] Multiple instance test completed\n[2025-06-17 00:07:19.778] [info] Successful operations: 250\n[2025-06-17 00:07:19.778] [info] Failed operations: 0\n[2025-06-17 00:07:19.778] [info] \nTesting deadlock prevention with concurrent texture loading...\n[2025-06-17 00:07:19.779] [info] Deadlock prevention test completed in 0 ms\n[2025-06-17 00:07:19.779] [info] Successful operations: 400\n[2025-06-17 00:07:19.779] [info] Failed operations: 0\n[2025-06-17 00:07:19.779] [info] \nTesting double-check pattern correctness...\n[2025-06-17 00:07:19.779] [info] [ResourceManager] Unloading all resources...\n[2025-06-17 00:07:19.779] [info] Double-check pattern test completed\n[2025-06-17 00:07:19.779] [info] Successful operations: 100\n[2025-06-17 00:07:19.779] [info] Failed operations: 0\n[2025-06-17 00:07:19.779] [info] Final unique texture count after double-check test: 0\n[2025-06-17 00:07:19.779] [info] \n✅ All thread safety tests passed!\n[2025-06-17 00:07:19.779] [info] [ResourceManager] Unloading all resources...\n"
    },
    {
      "test_name": "test_resource_manager_memory_fix",
      "test_file": "test_resource_manager_memory_fix.cpp",
      "category": "Memory",
      "status": "PASSED",
      "elapsed_seconds": 3.481,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "[2025-06-17 00:07:23.262] [info] Starting ResourceManager memory test (fixed version)\n[2025-06-17 00:07:23.262] [info] \nTest 1: Single instance lifecycle\n[2025-06-17 00:07:23.262] [info] Default texture size: 64x64\n[2025-06-17 00:07:23.262] [info] Single instance destroyed - all resources should be cleaned up\n[2025-06-17 00:07:23.262] [info] \nTest 2: Multiple instances in sequence\n[2025-06-17 00:07:23.262] [info] Cycle 1 completed\n[2025-06-17 00:07:23.262] [info] Cycle 2 completed\n[2025-06-17 00:07:23.262] [info] Cycle 3 completed\n[2025-06-17 00:07:23.262] [info] Cycle 4 completed\n[2025-06-17 00:07:23.262] [info] Cycle 5 completed\n[2025-06-17 00:07:23.262] [info] \nTest 3: Multiple simultaneous instances\n[2025-06-17 00:07:23.262] [info] Manager default texture: 64x64\n[2025-06-17 00:07:23.262] [info] Manager default texture: 64x64\n[2025-06-17 00:07:23.262] [info] Manager default texture: 64x64\n[2025-06-17 00:07:23.262] [info] All simultaneous instances destroyed\n[2025-06-17 00:07:23.262] [info] \nTest 4: Stress test - 100 creation/destruction cycles\n[2025-06-17 00:07:23.262] [info] Completed 0 cycles\n[2025-06-17 00:07:23.262] [info] Completed 20 cycles\n[2025-06-17 00:07:23.262] [info] Completed 40 cycles\n[2025-06-17 00:07:23.262] [info] Completed 60 cycles\n[2025-06-17 00:07:23.262] [info] Completed 80 cycles\n[2025-06-17 00:07:23.262] [info] \nTest 5: Dynamic allocation test\n[2025-06-17 00:07:23.262] [info] Dynamic allocation test completed\n[2025-06-17 00:07:23.262] [info] \nTest 6: Exception safety test\n[2025-06-17 00:07:23.262] [info] Default texture still works after errors: 64x64\n[2025-06-17 00:07:23.262] [info] \n✅ Memory test completed successfully!\n[2025-06-17 00:07:23.262] [info] No global cleanup function needed - all resources cleaned up automatically\n[2025-06-17 00:07:23.262] [info] \nTest complete. Run with valgrind or AddressSanitizer to verify no leaks:\n[2025-06-17 00:07:23.262] [info]   valgrind --leak-check=full ./test_resource_manager_memory_fix\n[2025-06-17 00:07:23.262] [info]   or compile with: -fsanitize=address -g\n"
    },
    {
      "test_name": "test_resource_manager_init_order",
      "test_file": "test_resource_manager_init_order.cpp",
      "category": "Resource",
      "status": "PASSED",
      "elapsed_seconds": 3.447,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "[2025-06-17 00:07:26.710] [info] GlobalResourceUser constructor - accessing ResourceManager\n[2025-06-17 00:07:26.711] [info] Default texture during static init: 64x64\n[2025-06-17 00:07:26.711] [info] Early init function called\n[2025-06-17 00:07:26.711] [info] [ResourceManager] Created dummy texture for headless mode\n[2025-06-17 00:07:26.711] [info] [ResourceManager] Unloading all resources...\n[2025-06-17 00:07:26.711] [info] Main function started - testing initialization order safety\n[2025-06-17 00:07:26.711] [info] \nTest 1: Global ResourceManager access\n[2025-06-17 00:07:26.711] [info] Global RM default texture: 64x64\n[2025-06-17 00:07:26.711] [info] ✅ Global ResourceManager works correctly\n[2025-06-17 00:07:26.711] [info] \nTest 2: Different initialization modes\n[2025-06-17 00:07:26.711] [info] Headless mode texture: 64x64 (id=0)\n[2025-06-17 00:07:26.711] [info] [ResourceManager] Unloading all resources...\n[2025-06-17 00:07:26.711] [info] Graphics mode (no RayLib) texture: 64x64 (id=0)\n[2025-06-17 00:07:26.711] [info] [ResourceManager] Unloading all resources...\n[2025-06-17 00:07:26.711] [info] \nTest 3: Thread-local ResourceManager\n[2025-06-17 00:07:26.711] [info] Thread-local RM texture: 64x64\n[2025-06-17 00:07:26.711] [info] Thread-local RM loaded textures: 0\n[2025-06-17 00:07:26.711] [info] \nTest 4: Multiple ResourceManagers with different states\n[2025-06-17 00:07:26.711] [info] RM1 texture: 64x64\n[2025-06-17 00:07:26.711] [info] RM2 texture: 64x64\n[2025-06-17 00:07:26.711] [info] RM3 texture: 64x64\n[2025-06-17 00:07:26.711] [info] [ResourceManager] Unloading all resources...\n[2025-06-17 00:07:26.711] [info] [ResourceManager] Unloading all resources...\n[2025-06-17 00:07:26.711] [info] [ResourceManager] Unloading all resources...\n[2025-06-17 00:07:26.711] [info] \nTest 5: Lazy initialization stress test\n[2025-06-17 00:07:26.711] [info] ✅ All 10 threads successfully accessed default texture\n[2025-06-17 00:07:26.711] [info] \n✅ All initialization order tests passed!\n[2025-06-17 00:07:26.711] [info] No static initialization order issues detected\n[2025-06-17 00:07:26.711] [info] GlobalResourceUser destructor\n"
    },
    {
      "test_name": "test_resource_manager_integration",
      "test_file": "test_resource_manager_integration.cpp",
      "category": "Integration",
      "status": "PASSED",
      "elapsed_seconds": 3.470,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Integration Test ===\n\n=== Testing Headless Mode ===\n[2025-06-17 00:07:30.180] [info] [ResourceManager] Created dummy texture for headless mode\n✓ Default texture created correctly in headless mode\n[2025-06-17 00:07:30.180] [info] [ResourceManager] Headless mode: using dummy texture for 'test_texture'\n✓ Texture loading returns default texture in headless mode\n[2025-06-17 00:07:30.180] [info] [ResourceManager] Headless mode: using dummy texture for 'headless_tex_0'\n[2025-06-17 00:07:30.180] [info] [ResourceManager] Headless mode: using dummy texture for 'headless_tex_1'\n[2025-06-17 00:07:30.180] [info] [ResourceManager] Headless mode: using dummy texture for 'headless_tex_2'\n[2025-06-17 00:07:30.180] [info] [ResourceManager] Headless mode: using dummy texture for 'headless_tex_3'\n✓ Multiple texture loads handled correctly in headless mode\n[2025-06-17 00:07:30.180] [info] [ResourceManager] Unloading all resources...\n\n=== Testing Graphics Mode ===\n✓ Default texture created correctly in graphics mode\n[2025-06-17 00:07:30.180] [info] [ResourceManager] RayLib not initialized: using default texture for 'missing'\n✓ Missing texture returns default texture correctly\n[2025-06-17 00:07:30.180] [warning] [ResourceManager] Texture 'never_loaded' not found - using default texture\n✓ Getting non-existent texture returns default correctly\n[2025-06-17 00:07:30.180] [info] [ResourceManager] Unloading all resources...\n\n=== Testing Mode Transitions ===\n✓ Mode transition preserves default texture\n✓ Handles RayLib not initialized correctly\n\n=== Testing Concurrent Workflow ===\nConcurrent workflow completed in 1 ms\nSuccess: 80, Errors: 0\n✓ Concurrent workflow completed successfully\nRemaining textures after partial cleanup: 0\n✓ Resource cleanup working correctly\n\n=== Testing Error Recovery ===\n✓ Multiple instances handled correctly\n✓ Rapid creation/destruction handled correctly\n\n✅ All integration tests passed!\n"
    },
    {
      "test_name": "test_call_once_retry_behavior",
      "test_file": "test_call_once_retry_behavior.cpp",
      "category": "Threading",
      "status": "PASSED",
      "elapsed_seconds": 3.611,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "[2025-06-17 00:07:33.791] [info] Testing thread-safe default texture initialization...\n[2025-06-17 00:07:33.791] [info] \nTest 1: Single-threaded initialization\n[2025-06-17 00:07:33.791] [info] First access: texture id=0, size=64x64\n[2025-06-17 00:07:33.791] [info] ✅ Same texture returned on second access\n[2025-06-17 00:07:33.791] [info] \nTest 2: Multi-threaded concurrent access\n[2025-06-17 00:07:33.793] [info] Concurrent access completed in 1 ms\n[2025-06-17 00:07:33.793] [info] Success count: 100/100\n[2025-06-17 00:07:33.793] [info] ✅ All threads got the same texture pointer\n[2025-06-17 00:07:33.793] [info] \nTest 3: Rapid sequential access\n[2025-06-17 00:07:33.793] [info] ✅ 10,000 rapid accesses completed successfully\n[2025-06-17 00:07:33.793] [info] \nTest 4: Multiple ResourceManager instances\n[2025-06-17 00:07:33.793] [info] ✅ Each ResourceManager has its own default texture\n[2025-06-17 00:07:33.793] [info] \n✅ All thread-safe initialization tests passed!\n"
    },
    {
      "test_name": "test_memory_ordering",
      "test_file": "test_memory_ordering.cpp",
      "category": "Memory",
      "status": "PASSED",
      "elapsed_seconds": 4.692,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Memory Ordering Tests ===\nTesting acquire-release semantics for ARM compatibility...\nTesting basic memory ordering guarantees...\nPASS: 100 threads x 1000 iterations completed in 5ms\n\nTesting memory ordering under stress...\nPASS: Stress test with 10 managers and 200 threads completed successfully\n\nTesting memory barrier effectiveness...\nPASS: Single initialization verified across 10 managers with 100 threads each\nTotal successful accesses: 1000\n\nSimulating weak memory model behavior...\nPASS: Weak memory model simulation completed successfully\n\n=== All memory ordering tests passed! ===\nThe implementation is safe for weak memory model architectures.\n"
    },
    {
      "test_name": "test_exception_safety",
      "test_file": "test_exception_safety.cpp",
      "category": "Unit",
      "status": "PASSED",
      "elapsed_seconds": 3.631,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Exception Safety Tests ===\nTesting basic exception safety...\n[2025-06-17 00:07:42.112] [info] [ResourceManager] Created dummy texture for headless mode\nPASS: Headless mode texture creation is exception safe\n[2025-06-17 00:07:42.113] [info] [ResourceManager] Unloading all resources...\nPASS: Multiple managers handled safely\n\nTesting concurrent exception safety...\nSuccess count: 5000\nException count: 0\nPASS: Concurrent access handled safely\n\nTesting resource lifetime safety...\nPASS: Resource lifetime managed safely\n\nTesting exception propagation...\nPASS: No spurious exceptions\n[2025-06-17 00:07:42.116] [info] [ResourceManager] Unloading all resources...\n\nTesting behavior under memory pressure...\nPASS: Created 100 managers successfully\nPASS: Clean destruction of all managers\n\nTesting nested exception handling...\n[2025-06-17 00:07:42.117] [info] [ResourceManager] Headless mode: using dummy texture for 'thread_1_tex_0'\n[2025-06-17 00:07:42.117] [info] [ResourceManager] Headless mode: using dummy texture for 'thread_3_tex_0'\n[2025-06-17 00:07:42.117] [info] [ResourceManager] Headless mode: using dummy texture for 'thread_2_tex_0'\n[2025-06-17 00:07:42.117] [warning] [ResourceManager] Texture 'thread_2_tex_0' not found - using default texture\n[2025-06-17 00:07:42.117] [warning] [ResourceManager] Texture 'thread_1_tex_0' not found - using default texture\n[2025-06-17 00:07:42.117] [info] [ResourceManager] Headless mode: using dummy texture for 'thread_2_tex_1'\n[2025-06-17 00:07:42.117] [warning] [ResourceManager] Texture 'thread_2_tex_1' not found - using default texture\n[2025-06-17 00:07:42.117] [info] [ResourceManager] Headless mode: using dummy texture for 'thread_1_tex_1'\n[2025-06-17 00:07:42.117] [warning] [ResourceManager] Texture 'thread_1_tex_1' not found - using default texture\n[2025-06-17 00:07:42.117] [warning] [ResourceManager] Texture 'thread_3_tex_0' not found - using default texture\n[2025-06-17 00:07:42.117] [info] [ResourceManager] Headless mode: using dummy texture for 'thread_2_tex_2'\n[2025-06-17 00:07:42.117] [info] [ResourceManager] Headless mode: using dummy texture for 'thread_0_tex_0'\nPASS: Nested operations handled safely\n[2025-06-17 00:07:42.117] [info] [ResourceManager] Unloading all resources...\n\n=== All exception safety tests passed! ===\nThe ResourceManager provides strong exception safety guarantees.\n"
    },
    {
      "test_name": "test_console_autocompletion",
      "test_file": "test_console_autocompletion.cpp",
      "category": "Unit",
      "status": "PASSED",
      "elapsed_seconds": 8.545,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== Testing Console Basic Autocompletion ===\n✓ Basic autocompletion test passed\n=== Testing Console Memory Cleanup ===\n✓ Memory cleanup test passed\n=== Testing Console Integration ===\n✓ Console integration test passed\n\n✅ All console autocompletion tests passed!\n"
    },
    {
      "test_name": "test_resource_functionality",
      "test_file": "test_resource_functionality.cpp",
      "category": "Resource",
      "status": "PASSED",
      "elapsed_seconds": 2.433,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Deep Functionality Tests ===\n\nTesting ResourceManager texture functionality...\nTest 1: Default texture validity...\n[2025-06-17 00:07:53.094] [warning] [ResourceManager] Texture 'missing1' not found - using default texture\n[2025-06-17 00:07:53.095] [info] [ResourceManager] Created dummy texture for headless mode\n✅ Default texture is valid\n\nTest 2: Consistency of default texture...\n[2025-06-17 00:07:53.095] [warning] [ResourceManager] Texture 'missing1' not found - using default texture\n✅ Same missing name returns same pointer\n\nTest 3: All missing textures use same default...\n[2025-06-17 00:07:53.095] [warning] [ResourceManager] Texture 'missing2' not found - using default texture\n✅ Different missing names return same default texture\n\nTest 4: Map doesn't grow with missing textures...\n[2025-06-17 00:07:53.095] [warning] [ResourceManager] Texture 'missing_texture_0' not found - using default texture\n[2025-06-17 00:07:53.095] [warning] [ResourceManager] Texture 'missing_texture_1' not found - using default texture\n✅ Map size remains 0 after 100 missing texture requests\n\nTest 5: Loading texture in headless mode...\n[2025-06-17 00:07:53.095] [info] [ResourceManager] Headless mode: using dummy texture for 'test_texture'\n✅ Loading texture in headless returns default without storing\n\n✅ All texture functionality tests passed!\n[2025-06-17 00:07:53.095] [info] [ResourceManager] Unloading all resources...\n\nTesting mode switching...\nTest 1: Get texture in headless mode...\n✅ Headless mode returns dummy texture\n\nTest 2: Switch to normal mode...\n✅ Mode switch handled gracefully\n\n✅ Mode switching tests passed!\n\nTesting memory efficiency...\nMaking 10000 missing texture requests...\nMap size after 10000 requests: 0\n✅ Memory efficient - no growth with missing textures\n\n🎉 All deep functionality tests passed!\n"
    },
    {
      "test_name": "test_resource_memory",
      "test_file": "test_resource_memory.cpp",
      "category": "Memory",
      "status": "PASSED",
      "elapsed_seconds": 2.484,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== ResourceManager Memory Test ===\nTest: Default texture created only once\n✓ All missing textures point to the same default texture\nTest: Memory not growing with missing texture requests\n  Loaded textures: 0\n  Unique textures: 0\n✓ Memory did not grow despite 100 missing texture requests\nTest: Real textures are allocated separately\n  Loaded textures: 0\n  Unique textures: 0\n✓ Texture allocation works correctly in headless mode\nTest: Unloading textures does not delete default\n✓ Default texture survives unload operations\n\n✅ All memory tests passed!\n"
    },
    {
      "test_name": "test_resource_manager_dangling_pointers",
      "test_file": "test_resource_manager_dangling_pointers.cpp",
      "category": "Unit",
      "status": "PASSED",
      "elapsed_seconds": 1.028,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "ResourceManager Dangling Pointer Test\n\n=== Demonstrating Dangling Pointer Problem ===\n\nStep 1: Loading initial textures...\n  Loaded texture_0 at address: 0x13fe04668 (id=1)\n  Loaded texture_1 at address: 0x13fe0e188 (id=2)\n  Loaded texture_2 at address: 0x13fe0e1c8 (id=3)\n  Loaded texture_3 at address: 0x13fe0e228 (id=4)\n  Loaded texture_4 at address: 0x13fe123a8 (id=5)\n\nStep 2: Verifying pointers are valid...\n  ✓ All pointers are valid\n\nStep 3: Adding many textures to trigger reallocation...\n  Initial bucket count: 5\n  Final bucket count: 197\n  Total textures loaded: 100\n\nStep 4: Checking if original pointers are still valid...\n  Comparing addresses:\n    texture_0: original=0x13fe04668, current=0x13fe04668 ✓\n    texture_1: original=0x13fe0e188, current=0x13fe0e188 ✓\n    texture_2: original=0x13fe0e1c8, current=0x13fe0e1c8 ✓\n    texture_3: original=0x13fe0e228, current=0x13fe0e228 ✓\n    texture_4: original=0x13fe123a8, current=0x13fe123a8 ✓\n\n  Attempting to access through original pointers:\n  WARNING: This may crash or show garbage data!\n    texture_0 via old pointer: id=1, width=64, height=64\n    texture_1 via old pointer: id=2, width=64, height=64\n    texture_2 via old pointer: id=3, width=64, height=64\n\n=== Demonstration Complete ===\n\nThe dangling pointer problem occurs because:\n1. std::unordered_map may reallocate its internal storage\n2. When this happens, all elements move to new memory locations\n3. Previously returned pointers become invalid (dangling)\n4. Accessing these pointers leads to undefined behavior\n\n\n=== Demonstrating Concurrent Access Problem ===\nInitial texture 'player' at: 0x13fe04668\nWriter thread added 50 textures\nReader thread made 15839 successful accesses\n\nOriginal 'player' pointer: 0x13fe04668\nCurrent 'player' pointer: 0x13fe04668\n\n✅ Test completed (if you see this, we didn't crash!)\n"
    },
    {
      "test_name": "test_resource_manager_rehash",
      "test_file": "test_resource_manager_rehash.cpp",
      "category": "Unit",
      "status": "PASSED",
      "elapsed_seconds": 0.863,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "ResourceManager Rehashing Test\n\n=== Testing unordered_map Rehashing ===\n\nInitial state:\n  Bucket count: 8\n  Max load factor: 1\n\nAdding textures...\n  After 1 textures:\n    Bucket count: 8\n    Load factor: 0.125\n    Address of tex_0: 0x14100a428\n  After 11 textures:\n    Bucket count: 16\n    Load factor: 0.6875\n    Address of tex_0: 0x14100a428\n  After 21 textures:\n    Bucket count: 32\n    Load factor: 0.65625\n    Address of tex_0: 0x14100a428\n  After 31 textures:\n    Bucket count: 32\n    Load factor: 0.96875\n    Address of tex_0: 0x14100a428\n  After 41 textures:\n    Bucket count: 64\n    Load factor: 0.640625\n    Address of tex_0: 0x14100a428\n\nForcing rehash with large reserve...\n  Old bucket count: 64\n  New bucket count: 1009\n\nChecking pointer validity after rehash...\n  tex_0: old=0x14100a428, new=0x14100a428 ✓\n  tex_1: old=0x141011e28, new=0x141011e28 ✓\n  tex_2: old=0x141012428, new=0x141012428 ✓\n  tex_3: old=0x141012a28, new=0x141012a28 ✓\n  tex_4: old=0x141013028, new=0x141013028 ✓\n  tex_5: old=0x141013628, new=0x141013628 ✓\n  tex_6: old=0x141013c28, new=0x141013c28 ✓\n  tex_7: old=0x141014228, new=0x141014228 ✓\n  tex_8: old=0x141014828, new=0x141014828 ✓\n  tex_9: old=0x141014e28, new=0x141014e28 ✓\n\n✓ All pointers remained valid (implementation dependent)\n\nDemonstrating the real danger:\nEven if pointers didn't change this time, they CAN change.\nThe C++ standard does NOT guarantee pointer stability for std::unordered_map!\nIterators and references to elements are invalidated by rehashing.\n\n\n=== Worst Case Scenario ===\nImportant texture at: 0x14100a428\nInitial id: 1\n\nSimulating production scenario...\n\nAfter many insertions:\nOriginal pointer: 0x14100a428\nCurrent pointer: 0x14100a428\n\n✓ Pointer remained stable (but this is NOT guaranteed!)\n\n\nConclusion:\n- std::unordered_map does NOT guarantee pointer stability\n- Rehashing can invalidate ALL pointers to elements\n- This is a critical bug waiting to happen in production\n- Solution: Use std::unique_ptr or std::shared_ptr to ensure stability\n"
    },
    {
      "test_name": "test_resource_manager_pointer_stability",
      "test_file": "test_resource_manager_pointer_stability.cpp",
      "category": "Resource",
      "status": "PASSED",
      "elapsed_seconds": 3.179,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "ResourceManager Pointer Stability Test\n\nThis test demonstrates why storing Texture2D directly\nin std::unordered_map is dangerous.\n\n=== Testing ResourceManager Pointer Stability ===\n\nStep 1: Loading initial textures and storing pointers...\n[2025-06-17 00:08:00.068] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_0'\n[2025-06-17 00:08:00.069] [info] [ResourceManager] Created dummy texture for headless mode\n  Loaded texture_0 at address: 0x1277041b0\n[2025-06-17 00:08:00.069] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_1'\n  Loaded texture_1 at address: 0x1277041b0\n[2025-06-17 00:08:00.069] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_2'\n  Loaded texture_2 at address: 0x1277041b0\n[2025-06-17 00:08:00.069] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_3'\n  Loaded texture_3 at address: 0x1277041b0\n[2025-06-17 00:08:00.069] [info] [ResourceManager] Headless mode: using dummy texture for 'texture_4'\n  Loaded texture_4 at address: 0x1277041b0\n  Loaded texture_5 at address: 0x1277041b0\n  Loaded texture_6 at address: 0x1277041b0\n  Loaded texture_7 at address: 0x1277041b0\n  Loaded texture_8 at address: 0x1277041b0\n  Loaded texture_9 at address: 0x1277041b0\n\nStep 2: Verifying initial pointers...\n[2025-06-17 00:08:00.069] [warning] [ResourceManager] Texture 'texture_0' not found - using default texture\n[2025-06-17 00:08:00.069] [warning] [ResourceManager] Texture 'texture_1' not found - using default texture\n[2025-06-17 00:08:00.069] [warning] [ResourceManager] Texture 'texture_2' not found - using default texture\n[2025-06-17 00:08:00.069] [warning] [ResourceManager] Texture 'texture_3' not found - using default texture\n[2025-06-17 00:08:00.069] [warning] [ResourceManager] Texture 'texture_4' not found - using default texture\n  ✓ All pointers are currently valid\n\nStep 3: Loading many textures to stress the map...\n  Initial texture count: 0\n  Final texture count: 0\n\nStep 4: Checking if original pointers are still valid...\n  texture_0: stored=0x1277041b0, current=0x1277041b0 ✓\n  texture_1: stored=0x1277041b0, current=0x1277041b0 ✓\n  texture_2: stored=0x1277041b0, current=0x1277041b0 ✓\n  texture_3: stored=0x1277041b0, current=0x1277041b0 ✓\n  texture_4: stored=0x1277041b0, current=0x1277041b0 ✓\n  texture_5: stored=0x1277041b0, current=0x1277041b0 ✓\n  texture_6: stored=0x1277041b0, current=0x1277041b0 ✓\n  texture_7: stored=0x1277041b0, current=0x1277041b0 ✓\n  texture_8: stored=0x1277041b0, current=0x1277041b0 ✓\n  texture_9: stored=0x1277041b0, current=0x1277041b0 ✓\n\n⚠️  Pointers remained valid in this run, but the bug still exists!\nThe C++ standard does NOT guarantee this behavior.\n[2025-06-17 00:08:00.069] [info] [ResourceManager] Unloading all resources...\n\n\n=== Testing Concurrent Access Danger ===\nPlayer texture initially at: 0x1277041b0\n\nResults:\n  Original player texture pointer: 0x1277041b0\n  Current player texture pointer: 0x1277041b0\n  Successful accesses: 36182\n  Crashes caught: 0\n\n\n=== Real World Scenario ===\nGame started with critical textures:\n  UI texture at: 0x130004080\n  Font texture at: 0x130004080\n\nSimulating gameplay with dynamic content...\n\nAfter level 5:\n  UI pointer still at: 0x130004080 ✓\n  Font pointer still at: 0x130004080 ✓\n\nFinal check after all levels:\n  UI texture: ✓ Still valid\n  Font texture: ✓ Still valid\n\n\n=== Summary ===\nThe current ResourceManager implementation has a CRITICAL bug:\n- Pointers returned by loadTexture() and getTexture() can become invalid\n- This happens when std::unordered_map rehashes (unpredictable)\n- Game code storing these pointers will crash or corrupt memory\n- The fix: Change storage to std::unique_ptr<Texture2D>\n"
    },
    {
      "test_name": "test_resource_pointer_consistency",
      "test_file": "test_resource_pointer_consistency.cpp",
      "category": "Resource",
      "status": "PASSED",
      "elapsed_seconds": 2.456,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "=== Testing ResourceManager pointer consistency ===\nTest 1: Missing texture pointer consistency...\n  ✓ All missing textures return same pointer: 0x123604700\nTest 2: Map size check...\n  ✓ Map remains empty (size: 0)\nTest 3: loadTexture with missing file...\n  ✓ loadTexture returns same default pointer\n  ✓ Map still empty after loadTexture\nTest 5: Repeated requests consistency...\n  ✓ 100 repeated requests returned same pointer\nTest 6: Many different missing textures...\n  ✓ 1000 different missing textures: same pointer, map size 0\n\n=== ALL TESTS PASSED! ===\nMemory leak is fixed: missing textures don't grow the map\n"
    },
    {
      "test_name": "test_resource_simple",
      "test_file": "test_resource_simple.cpp",
      "category": "Unit",
      "status": "PASSED",
      "elapsed_seconds": 2.462,
      "return_code": 0,
      "worker_id": 0,
      "timestamp": 0,
      "success": true,
      "output": "Initial texture count: 0\nAfter 10 missing requests: 0\nAfter loading missing file: 0\nSUCCESS: All tests passed!\nMap size remained at: 0\n"
    }
  ],
  "failed_tests": [
    {
      "test_name": "test_engine_init",
      "status": "COMPILATION_FAILED",
      "error": "clang++: error: no such file or directory: '../src/scripting/example_game_logic.cpp'\n"
    }
  ]
}
